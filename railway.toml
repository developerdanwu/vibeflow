# Railway config-as-code for VibeFlow
# https://docs.railway.com/config-as-code/reference

[build]
builder = "RAILPACK"
buildCommand = "pnpm install && pnpm run build"

[deploy]
# Sync Railway env to Convex, then deploy (script runs convex env set for listed vars, then convex deploy)
preDeployCommand = ["node scripts/sync-convex-env.js"]
startCommand = "pnpm exec serve dist -s -l $PORT"
healthcheckPath = "/"
