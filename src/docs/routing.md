# TanStack Router file-based routing

## Segment layout: folder + route.tsx

**When this applies:** You want a layout route for a segment (e.g. `/calendar`, `/settings`) and prefer keeping the feature in one folder.

TanStack Router's default `routeToken` is `"route"`. A file named `route.tsx` inside a segment folder is the layout for that segment; the index route is `index.tsx` in the same folder.

### Prefer: layout inside the segment folder

```
_authenticated/
├── calendar/
│   ├── route.tsx    # layout for /calendar (renders <Outlet />)
│   └── index.tsx    # page at /calendar
└── settings/
    ├── route.tsx    # layout for /settings
    ├── index.tsx
    └── account.tsx
```

**Why:** Keeps the feature in one folder. Imports like `@/routes/_authenticated/calendar` resolve to the folder's index, so components using `Route.useSearch()` from the calendar index don't need path changes.

### Alternative: sibling layout file

```
_authenticated/
├── calendar.tsx     # layout for /calendar
└── calendar/
    └── index.tsx    # page at /calendar
```

Same route IDs and URLs; only file organization differs. Use the folder + `route.tsx` pattern for consistency and co-location.

## Route tree regeneration

`routeTree.gen.ts` is generated by the TanStack Router Vite plugin. Run `pnpm build` or `pnpm dev` after moving or renaming route files; no manual step.
